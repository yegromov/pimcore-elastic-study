<!DOCTYPE html>
<html lang="ru">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
		<title>ElasticSearch Sample</title>
	</head>

	<body>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>

		<div class="container-fluid">
			<div class="row">

{% block content %}

{% if(category) %}
<div class="page-header">
    <h1>{{ category.name }}</h1>
</div>
{% endif %}
<div class="container">
    <div class="filter-container">
        <h2>Filters</h2>
        <form id="js_filterfield">

            {% if(filterDefinition.filters|length > 0) %}

                {% for filter in filterDefinition.filters %}

                    {% set filterMarkup = filterService.filterFrontend(filter, productListing, currentFilter) %}

                    {{ filterMarkup | raw  }}

                {% endfor %}
            {% endif %}

        </form>

    </div>
    <div class="products-list">
        <ul>
            {% for product in results %}
                <li>{{ product.name }}</li>
            {% endfor %}
        </ul>
    </div>
</div>

{# this part for live filters
<input type="text" id="input-field">

{% do pimcore_inline_script().appendScript("
    $('#input-field').on('change', function() {
                alert('It works!');
    });
") %}#}
{% endblock %}
			</div>
		</div>
	</body>
</html>
